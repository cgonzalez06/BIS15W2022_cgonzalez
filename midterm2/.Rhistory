gapminder_join %>%
group_by(country) %>%
summarize(mean_life_exp=mean(life_expectancy_years, na.rm=T)) %>%
arrange(desc(mean_life_exp))
#Countries with top life expectancy: Andorra, Sweden, Norway
#Lowest life expectancy: Ethiopia, Mali, Central African Republic
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic") %>%
ggplot()
?colnames
life_history <- read_csv("data/mammal_lifehistories_v3.csv") %>%
clean_names() %>%
colnames()<--c("x")
life_history <- read_csv("data/mammal_lifehistories_v3.csv") %>%
clean_names() %>%
colnames()<--"x"
life_history <- read_csv("data/mammal_lifehistories_v3.csv") %>%
clean_names() %>%
colnames()<-gsub("x","",colnames(life_history))
life_history <- read_csv("data/mammal_lifehistories_v3.csv") %>%
clean_names() %>%
colnames()<-gsub("x","",colnames(life_history))
life_history <- read_csv("data/mammal_lifehistories_v3.csv") %>%
clean_names() %>%
colnames()<-gsub("x","",colnames())
population <- read.csv("data/population_total.csv") %>%
colnames()<-gsub("x","",colnames())
View(population)
population <- read.csv("data/population_total.csv") %>%
colnames()<-gsub("X","",colnames())
population <- read.csv("data/population_total.csv") %>%
colnames()<-gsub("X","",colnames(population))
population <- read.csv("data/population_total.csv")
?names
population <- read.csv("data/population_total.csv") %>%
names(population) <- gsub("X", "", names(population), fixed = TRUE)
population <- read.csv("data/population_total.csv") %>%
names(population) <- gsub("X", "_", names(population), fixed = TRUE)
population <- read.csv("data/population_total.csv") %>%
names(population) <- gsub("X", "", names(population), fixed = TRUE)
population <- read.csv("data/population_total.csv")
income_per_person_long <- income_per_person %>%
pivot_longer(-country,
names_to = "year",
names_prefix = "X",
values_to = "income_per_person")
income_per_person_long
life_expectancy_long <-life_expectancy %>%
pivot_longer(-country,
names_to = "year",
names_prefix = "X",
values_to = "life_expectancy_years")
life_expectancy_long
income_per_person_long <- income_per_person %>%
pivot_longer(-country,
names_to = "year",
names_prefix = "X",
values_to = "income_per_person")
income_per_person_long
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(naniar)
options(scipen=999)
population <- read.csv("data/population_total.csv")
names(population)
glimpse(population)
income_per_person <- read.csv("data/income_per_person_gdppercapita_ppp_inflation_adjusted.csv")
names(income_per_person)
glimpse(income_per_person)
life_expectancy <- read.csv("data/life_expectancy_years.csv")
names(life_expectancy)
glimpse(life_expectancy)
population_long <-population %>%
pivot_longer(-country,
names_to = "year",
names_prefix = "X",
values_to = "population")
population_long
life_expectancy_long <-life_expectancy %>%
pivot_longer(-country,
names_to = "year",
names_prefix = "X",
values_to = "life_expectancy_years")
life_expectancy_long
income_per_person_long <- income_per_person %>%
pivot_longer(-country,
names_to = "year",
names_prefix = "X",
values_to = "income_per_person")
income_per_person_long
#population data set
population %>%
summarize(countries=n_distinct(country))
population %>%
select(country)
#income_per_person data set
income_per_person %>%
summarize(n_distinct(country))
income_per_person %>%
select(country)
#life_expectancy data set
life_expectancy %>%
summarize(n_distinct(country))
life_expectancy %>%
select(country)
life_expectancy_longer %>%
filter(year>=1920 & year<=2020) %>%
group_by(country) %>%
summarize(mean_life_expectancy=mean(life_expectancy_years, na.rm=T)) %>%
arrange(desc(mean_life_expectancy))
life_expectancy_long %>%
filter(year>=1920 & year<=2020) %>%
group_by(country) %>%
summarize(mean_life_expectancy=mean(life_expectancy_years, na.rm=T)) %>%
arrange(desc(mean_life_expectancy))
life_expectancy_long %>%
filter(year>=1920 & year<=2020)
View(life_expectancy_long)
life_expectancy_long %>%
filter(year>=1920 & year<=2020)
life_expectancy_long %>%
filter(year>=1920 & year<=2020) %>%
group_by(country) %>%
summarize(mean_life_expectancy=mean(life_expectancy_years, na.rm=T)) %>%
arrange(desc(mean_life_expectancy))
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920) %>%
select(country, X1920, X2020, change_life_expectancy)
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920) %>%
select(country, X1920, X2020, change_life_expectancy, na.rm=T) %>%
arrange(desc(change_life_expectancy)) %>%
top_n(5)
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920) %>%
select(country, X1920, X2020, change_life_expectancy, na.rm=T) %>%
arrange(desc(change_life_expectancy)) %>%
top_n(5)
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920)
mutate(change_life_expectancy=X2020-X1920, na.rm=T) %>%
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920, na.rm=T) %>%
select(country, X1920, X2020, change_life_expectancy %>%
arrange(desc(change_life_expectancy)) %>%
top_n(5)
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920)
life_expectancy_long %>%
filter(year>=1920 & year<=2020) %>%
group_by(country) %>%
summarize(mean_life_expectancy=mean(life_expectancy_years, na.rm=T)) %>%
arrange(desc(mean_life_expectancy))
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920, ) %>%
select(country, X1920, X2020, change_life_expectancy %>%
arrange(desc(change_life_expectancy)) %>%
top_n(5)
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920) %>%
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920) %>%
select(country, X1920, X2020, change_life_expectancy %>%
arrange(desc(change_life_expectancy)) %>%
top_n(5)
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920) %>%
select(country, X1920, X2020, change_life_expectancy) %>%
arrange(desc(change_life_expectancy)) %>%
top_n(5)
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920) %>%
select(country, X1920, X2020, change_life_expectancy) %>%
arrange(desc(change_life_expectancy))
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920) %>%
select(country, X1920, X2020, change_life_expectancy)
View(life_expectancy)
life_expectancy %>%
mutate(change_life_expectancy=X2020-X1920) %>%
select(country, X1920, X2020, change_life_expectancy) %>%
arrange(desc(change_life_expectancy)) %>%
top_n(5)
life_expectancy_longer %>%
filter(country=="Kuwait") %>%
filter(year>=1920 & year<=2020) %>%
ggplot(aes(x=as.integer(year), y=life_expectancy_years)) +
geom_line() +
labs(title = "Life Expectancy in Kuwait over 100 years",
x="Year",
y="Life Expectancy (Years)")+
theme_bw()
life_expectancy_long %>%
filter(country=="Kuwait") %>%
filter(year>=1920 & year<=2020) %>%
ggplot(aes(x=as.integer(year), y=life_expectancy_years)) +
geom_line() +
labs(title = "Life Expectancy in Kuwait over 100 years",
x="Year",
y="Life Expectancy (Years)")+
theme_bw()
population %>%
mutate(pop_growth=X2020-X1920) %>%
select(country, X1920, X2020, pop_growth)
population %>%
mutate(pop_growth=X2020-X1920) %>%
select(country, X1920, X2020, pop_growth) %>%
arrange(desc(pop_growth))
population %>%
mutate(pop_growth=X2020-X1920) %>%
select(country, X1920, X2020, pop_growth) %>%
arrange(desc(pop_growth)) %>%
top_n(5)
population_long %>%
filter(country=="India" | country=="China" | country=="Indonesia" | country=="United States" | country=="Pakistan") %>%
filter(year>=1920 & year<=2020) %>%
ggplot(aes(x=as.integer(year), y=population, color=country))+
geom_line()+
labs(title = "Population Growth over 100 years",
x="Year",
y="Population")+
theme_bw()
display.brewer.all()
display.brewer.all
display.brewer.all()
View(population_long)
population_long %>%
filter(country=="India" | country=="China" | country=="Indonesia" | country=="United States" | country=="Pakistan") %>%
filter(year>=1920 & year<=2020) %>%
ggplot(aes(x=as.integer(year), y=population, color=country))+
geom_line()+
labs(title = "Population Growth over 100 years",
x="Year",
y="Population")+
theme_bw()+
scale_color_brewer("Dark2")
population_long %>%
filter(country=="India" | country=="China" | country=="Indonesia" | country=="United States" | country=="Pakistan") %>%
filter(year>=1920 & year<=2020) %>%
ggplot(aes(x=as.integer(year), y=population, color=country))+
geom_line()+
labs(title = "Population Growth over 100 years",
x="Year",
y="Population")+
theme_bw()+
scale_color_brewer(pallette="Dark2")
population_long %>%
filter(country=="India" | country=="China" | country=="Indonesia" | country=="United States" | country=="Pakistan") %>%
filter(year>=1920 & year<=2020) %>%
ggplot(aes(x=as.integer(year), y=population, color=country))+
geom_line()+
labs(title = "Population Growth over 100 years",
x="Year",
y="Population")+
theme_bw()+
scale_color_brewer(palette="Dark2")
#asking you to compare change in GDP between countries
#one possible interpretation is GDP at end year and GDP at start and you do a subtraction, but this doesn't account for good and bad years
income_per_person %>%
mutate(change_gdp=X2020-X1920) %>%
select(country, X1920, X2020, change_gdp) %>%
arrange(desc(change_gdp))
#asking you to compare change in GDP between countries
#one possible interpretation is GDP at end year and GDP at start and you do a subtraction, but this doesn't account for good and bad years
income_per_person %>%
mutate(change_gdp=X2020-X1920) %>%
select(country, X1920, X2020, change_gdp) %>%
arrange(desc(change_gdp)) %>%
top_n(5)
income_per_person_longer %>%
filter(country=="Qatar" | country=="Luxembourg" | country=="Singapore" | country=="Brunei" | country=="Ireland") %>%
filter(year>=1920 & year<=2020) %>%
ggplot(aes(x=as.integer(year), y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
theme(axis.text.x=element_text(angle=60, hjust=1))+
labs(title = "GDP per Capita Change Over 100 Years",
x="Year",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
income_per_person_long %>%
filter(country=="Qatar" | country=="Luxembourg" | country=="Singapore" | country=="Brunei" | country=="Ireland") %>%
filter(year>=1920 & year<=2020) %>%
ggplot(aes(x=as.integer(year), y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
theme(axis.text.x=element_text(angle=60, hjust=1))+
labs(title = "GDP per Capita Change Over 100 Years",
x="Year",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
income_per_person_long %>%
filter(country=="Qatar" | country=="Luxembourg" | country=="Singapore" | country=="Brunei" | country=="Ireland") %>%
filter(year>=1920 & year<=2020) %>%
ggplot(aes(x=as.integer(year), y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
theme(axis.text.x=element_text(angle=60, hjust=1))+
labs(title = "GDP Per Capita Change Over 100 Years",
x="Year",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
life_expectancy_100 <- life_expectancy_long %>%
filter(year>=1920 & year<=2020)
income_100 <- income_per_person_long %>%
filter(year>=1920 & year<=2020)
gapminder_join <- inner_join(life_expectancy_100, population_100, by= c("country", "year"))
population_100 <- population_long %>%
filter(year>=1920 & year<=2020)
income_100 <- income_per_person_long %>%
filter(year>=1920 & year<=2020)
gapminder_join <- inner_join(life_expectancy_100, population_100, by= c("country", "year"))
gapminder_join <- inner_join(gapminder_join, income_100, by= c("country", "year"))
gapminder_join
View(gapminder_join)
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic") %>%
ggplot(aes(x=life_expectancy, y=population))
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic") %>%
ggplot(aes(x=life_expectancy, y=population))
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic")
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic") %>%
ggplot(aes(x=life_expectancy_years, y=population))
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic") %>%
ggplot(aes(x=life_expectancy_years, y=population))+
geom_line()
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic") %>%
ggplot(aes(x=life_expectancy_years, y=population))+
geom_point
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic") %>%
ggplot(aes(x=life_expectancy_years, y=population))+
geom_point()
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic") %>%
ggplot(aes(x=life_expectancy_years, y=population, color=country))+
geom_point()
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_point()
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_exp=mean(life_expectancy_years, na.rm=T)) %>%
arrange(desc(mean_life_exp)) %>%
top_n(6)
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Netherlands" | country=="Dominica" | country== "Iceland") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_point()
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Netherlands" | country=="Dominica" | country== "Iceland") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Netherlands" | country=="Dominica" | country== "Iceland") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_exp=mean(life_expectancy_years, na.rm=T)) %>%
arrange(desc(mean_life_exp))
#Countries with top life expectancy: Andorra, Sweden, Norway, Netherlands, Dominica, Iceland
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_exp=mean(life_expectancy_years, na.rm=T)) %>%
arrange(desc(mean_life_exp))
#Countries with top life expectancy: Andorra, Sweden, Norway
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethipia" | country=="Mali" | country== "Central African Republic") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Ethiopia" | country=="Mali" | country== "Central African Republic") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Netherlands" | country=="Dominica" | country== "Iceland") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)
gapminder_join %>%
filter(country=="Andorra" | country=="Sweden" | country== "Norway" | country == "Netherlands" | country=="Dominica" | country== "Iceland") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
labs(title = "Life Expectancy vs. GDP Per Capita",
x="Life Expectancy (Years)",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
gapminder_join %>%
group_by(country) %>%
filter(year==2020)
gapminder_join %>%
filter(year==2020) %>%
group_by(country) %>%
summarize(mean_life_exp=mean(life_expectancy_years, na.rm=T)) %>%
arrange(desc(mean_life_exp))
gapminder_join %>%
filter(country=="Israel" | country=="Singapore" | country== "Japan" | country == "Switzerland" | country=="Italy" | country== "Spain") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
labs(title = "Life Expectancy vs. GDP Per Capita",
x="Life Expectancy (Years)",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
gapminder_join %>%
filter(year>=1970 & year<=2020)
gapminder_join %>%
filter(year>=1970 & year<=2020) %>%
filter(country=="Israel" | country=="Singapore" | country== "Japan" | country == "Switzerland" | country=="Italy" | country== "Spain") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
labs(title = "Life Expectancy vs. GDP Per Capita",
x="Life Expectancy (Years)",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
gapminder_join %>%
filter(year>=1920 & year<=2020)
gapminder_join %>%
filter(year>=1920 & year<=2020) %>%
filter(country=="Israel" | country=="Singapore" | country== "Japan" | country == "Switzerland" | country=="Italy" | country== "Spain") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
labs(title = "Life Expectancy vs. GDP Per Capita",
x="Life Expectancy (Years)",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
gapminder_join %>%
filter(country=="Israel" | country=="Singapore" | country== "Japan" | country == "Switzerland" | country=="Italy" | country== "Spain") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
labs(title = "Life Expectancy vs. GDP Per Capita",
x="Life Expectancy (Years)",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
gapminder_join %>%
filter(year>=1900) %>%
filter(country=="Israel" | country=="Singapore" | country== "Japan" | country == "Switzerland" | country=="Italy" | country== "Spain") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
labs(title = "Life Expectancy vs. GDP Per Capita",
x="Life Expectancy (Years)",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
gapminder_join %>%
filter(year>=1950) %>%
filter(country=="Israel" | country=="Singapore" | country== "Japan" | country == "Switzerland" | country=="Italy" | country== "Spain") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
labs(title = "Life Expectancy vs. GDP Per Capita",
x="Life Expectancy (Years)",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
gapminder_join %>%
filter(year>=1970) %>%
filter(country=="Israel" | country=="Singapore" | country== "Japan" | country == "Switzerland" | country=="Italy" | country== "Spain") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
labs(title = "Life Expectancy vs. GDP Per Capita",
x="Life Expectancy (Years)",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
gapminder_join %>%
filter(year>=1970 & year<=2020) %>%
filter(country=="Israel" | country=="Singapore" | country== "Japan" | country == "Switzerland" | country=="Italy" | country== "Spain") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
labs(title = "Life Expectancy vs. GDP Per Capita",
x="Life Expectancy (Years)",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
gapminder_join %>%
filter(year>=1970 & year<=2020) %>%
filter(country=="Israel" | country=="Singapore" | country== "Japan" | country == "Switzerland" | country=="Italy" | country== "Spain") %>%
ggplot(aes(x=life_expectancy_years, y=income_per_person, color=country))+
geom_line()+
facet_wrap(~country)+
theme_bw()+
labs(title = "Life Expectancy vs. GDP Per Capita from 1970 to 2020",
x="Life Expectancy (Years)",
y="GDP per Capita")+
scale_color_brewer(palette="Dark2")
